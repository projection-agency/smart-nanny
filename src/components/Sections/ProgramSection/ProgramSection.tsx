"use client";

import s from "./ProgramSection.module.css";
import { ProgramItem } from "@/components/ProgramItem/ProgramItem";
import Image from "next/image";
import { useEffect, useState } from "react";
import { API_URL } from "@/constants";

type APIModule = {
  id: number;
  Title: string;
  Time: string;
  Lessons: string;
  Lectures: string[];
  Result: string;
  previewImage?: string;
};

export const ProgramSection = () => {
  const [modules, setModules] = useState<APIModule[]>([]);

  useEffect(() => {
    const fetchFaqs = async () => {
      try {
        const response = await fetch(
          `${API_URL}v2/course_module?order_by_title_number=true`
        );
        const data = await response.json();
        setModules(data);
      } catch (error) {
        console.error("Помилка при отриманні FAQ:", error);
      }
    };

    fetchFaqs();
  }, []);

  return (
    <section className={s.section}>
      <div className={s.titleContainer}>
        <h2>
          {stars}
          <span>Програма вашого навчання{line}</span>
          Програма курсу
        </h2>
        <p>
          Цей курс побудований так, щоб ви не просто прослухали лекції, а
          отримали чітку систему знань і практичних навичок. Кожен модуль — це
          логічний крок до впевненості, професійності й готовності працювати з
          дітьми будь-якого віку
        </p>
      </div>

      <ul className={s.list}>
        {modules.map((mod, index) => (
          <ProgramItem
            key={mod.id}
            module={index + 1}
            title={mod.Title || `Модуль ${index + 1}`}
            duration={mod.Time || ""}
            lessons={mod.Lessons || ""}
            lectures={mod.Lectures || []}
            result={mod.Result || ""}
            previewImage={mod.previewImage}
          />
        ))}
      </ul>

      <Image
        width={1920}
        height={1080}
        src="/images/pinkCloud2.png"
        alt="cloud"
        className={s.cloud1}
      />
      <Image
        width={1920}
        height={1080}
        src="/images/pinkCloud1.png"
        alt="cloud"
        className={s.cloud2}
      />
      <Image
        width={1920}
        height={1080}
        src="/images/pinkCloud3.png"
        alt="cloud"
        className={s.cloud3}
      />
    </section>
  );
};

const stars = (
  <svg
    className={s.svg}
    viewBox="0 0 68 54"
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
  >
    <path
      d="M8.0094 24.6397C9.58276 21.9699 12.2377 18.2709 13.7605 15.4827L13.7472 15.4743C11.2221 13.8715 8.1791 11.9377 5.71049 10.0759C5.17476 9.67186 4.63737 8.83054 4.1268 8.51549C3.68088 8.24033 2.02937 7.49926 1.70868 6.95508C1.27118 6.21268 2.94612 6.95508 3.56484 6.95508C4.37157 6.95508 5.12609 6.8033 5.86375 7.35963C6.77126 8.04405 9.22019 7.44276 9.84853 8.77555C10.382 9.90718 13.94 9.3876 14.7529 9.58466C14.9637 9.63576 15.1762 9.68435 15.3902 9.73054C15.4761 9.45144 15.5484 9.21476 15.6043 9.03562C16.2145 7.07975 17.1027 4.99036 17.9714 3.5164C18.5776 2.48771 20.5768 -0.972334 20.5768 2.53392C20.5768 4.31631 21.7818 6.87357 22.484 8.11094C22.9456 8.92431 23.329 9.74225 23.6744 10.5713C24.4718 10.5896 25.2586 10.596 26.0261 10.596C27.5207 10.596 29.001 11.1162 30.5387 11.1162C31.3803 11.1162 33.8567 11.5509 33.621 11.6652L33.5978 11.6765C32.5626 12.1783 30.343 13.2543 29.534 14.3526C28.6253 15.5862 27.2999 16.2464 26.0055 16.8909C26.7958 19.3625 27.3478 22.0748 28.1036 24.6397C28.3308 25.4107 29.8294 31.6523 28.8529 29.581C28.1467 28.0831 25.6367 26.4174 24.6367 25.5C22.1343 23.2044 20.8379 21.3382 18.9648 20C17.8223 20.081 16.1125 22.0514 15.6367 22.5C14.1367 23.5 14.1367 24 11.6367 25.5C10.5332 26.1621 8.11678 25.9338 6.96933 26.7755C7.33831 25.9973 7.78906 25.0136 8.0094 24.6397Z"
      stroke="#FF91B2"
      strokeWidth="2"
      strokeLinecap="round"
      strokeLinejoin="round"
    />
    <path
      d="M19.0056 49.6729C18.5096 48.0809 18.1474 46.3974 17.6287 44.8633C17.0761 45.1236 16.5322 45.3797 16.0777 45.7271C15.063 46.5026 14.0697 46.7673 12.9598 46.7673C12.6842 46.7673 12.1603 46.7674 11.607 46.8045C12.4041 47.5813 13.2078 48.3754 14.0661 48.9555C15.2953 49.7861 16.9979 48.7106 18.0445 50.3904C18.5359 51.1789 19.0339 51.8102 19.4973 52.7399C20.1382 54.0256 19.1547 50.1514 19.0056 49.6729Z"
      fill="#FF91B2"
    />
    <path
      d="M11.3565 40.5477C10.7234 41.5863 10.0744 42.551 9.60721 43.4134C9.54699 43.5245 9.4863 43.6354 9.42517 43.746C9.27094 44.0736 9.11785 44.3527 8.97349 44.5462L8.93673 44.61C8.97011 44.6299 9.00362 44.6496 9.03727 44.6689C9.92473 45.1775 10.7622 45.9813 11.607 46.8045C12.1603 46.7674 12.6842 46.7673 12.9598 46.7673C14.0697 46.7673 15.063 46.5026 16.0777 45.7271C16.5322 45.3797 17.0761 45.1236 17.6287 44.8633C17.5216 44.5463 17.4077 44.2356 17.2846 43.9335C16.8611 42.894 16.5238 41.9053 16.0989 40.9408C14.5298 40.9066 12.8978 40.8061 11.3565 40.5477Z"
      fill="#FF91B2"
    />
    <path
      d="M16.0989 40.9408C16.5238 41.9053 16.8611 42.894 17.2846 43.9335C17.4077 44.2356 17.5216 44.5463 17.6287 44.8633C18.4782 44.4633 19.348 44.0535 19.9443 43.2878C20.4752 42.6061 21.9319 41.9382 22.6112 41.6268L22.6264 41.6198C22.7811 41.5488 21.1559 41.279 20.6037 41.279C19.5945 41.279 18.6231 40.9562 17.6422 40.9562C17.1386 40.9562 16.6223 40.9522 16.0989 40.9408Z"
      fill="#FF91B2"
    />
    <path
      d="M10.803 39.9876C10.7663 40.0988 10.7188 40.2457 10.6624 40.419C10.8913 40.4657 11.1229 40.5085 11.3565 40.5477C12.8978 40.8061 14.5298 40.9066 16.0989 40.9408C15.8723 40.4262 15.6207 39.9185 15.3178 39.4137C14.857 38.6457 14.0661 37.0584 14.0661 35.9521C14.0661 33.7758 12.7542 35.9234 12.3563 36.5619C11.7863 37.4768 11.2034 38.7736 10.803 39.9876Z"
      fill="#FF91B2"
    />
    <path
      d="M8.97349 44.5462C9.12629 44.2808 9.27702 44.0142 9.42517 43.746C9.90085 42.7357 10.3874 41.264 10.6624 40.419C10.522 40.3903 10.3825 40.3601 10.2442 40.3284C9.71073 40.2061 7.37583 40.5286 7.02572 39.8262C6.61337 38.999 5.00626 39.3722 4.41071 38.9474C3.92662 38.602 3.43147 38.6963 2.90205 38.6963C2.49601 38.6963 1.39684 38.2355 1.68394 38.6963C1.8944 39.034 2.9782 39.494 3.27083 39.6648C3.6059 39.8603 3.95856 40.3825 4.31013 40.6333C5.93016 41.7889 7.27086 43.6099 8.92798 44.6047C8.94304 44.5862 8.95822 44.5667 8.97349 44.5462Z"
      fill="#FF91B2"
    />
    <path
      d="M8.93673 44.61C7.93736 46.3405 6.85131 48.0158 5.81879 49.6729C5.67419 49.905 5.37839 50.5156 5.13624 50.9986C5.88926 50.4761 6.74218 50.1015 7.27158 49.4218C7.93916 48.5647 8.95857 47.9495 9.74131 47.2516C10.0536 46.9732 10.8572 46.8548 11.607 46.8045C10.7622 45.9813 9.92473 45.1775 9.03727 44.6689C9.00362 44.6496 8.97011 44.6299 8.93673 44.61Z"
      fill="#FF91B2"
    />
    <path
      d="M13.4627 35.145C13.3303 37.0568 12.3634 38.8958 11.3565 40.5477M11.3565 40.5477C10.7234 41.5863 10.0744 42.551 9.60721 43.4134C9.54699 43.5245 9.4863 43.6354 9.42517 43.746M11.3565 40.5477C11.1229 40.5085 10.8913 40.4657 10.6624 40.419M11.3565 40.5477C12.8978 40.8061 14.5298 40.9066 16.0989 40.9408M9.42517 43.746C9.27702 44.0142 9.12629 44.2808 8.97349 44.5462M9.42517 43.746C9.27094 44.0736 9.11785 44.3527 8.97349 44.5462M9.42517 43.746C9.90085 42.7357 10.3874 41.264 10.6624 40.419M8.97349 44.5462C8.96125 44.5675 8.949 44.5887 8.93673 44.61M8.97349 44.5462C8.95822 44.5667 8.94304 44.5862 8.92798 44.6047M8.97349 44.5462L8.93673 44.61M8.93673 44.61C7.93736 46.3405 6.85131 48.0158 5.81879 49.6729C5.67419 49.905 5.37839 50.5156 5.13624 50.9986M8.93673 44.61C8.97011 44.6299 9.00362 44.6496 9.03727 44.6689C9.92473 45.1775 10.7622 45.9813 11.607 46.8045M8.93673 44.61C8.93381 44.6082 8.93089 44.6065 8.92798 44.6047M5.13624 50.9986C4.82716 51.6152 4.6055 52.0241 4.89736 51.1728M5.13624 50.9986C5.88926 50.4761 6.74218 50.1015 7.27158 49.4218C7.93916 48.5647 8.95857 47.9495 9.74131 47.2516C10.0536 46.9732 10.8572 46.8548 11.607 46.8045M5.13624 50.9986C5.05529 51.0548 4.97548 51.1127 4.89736 51.1728M4.89736 51.1728C4.90261 51.1575 4.90802 51.1418 4.9136 51.1257C5.26084 50.1226 6.1618 48.7805 6.72399 48.0587C7.27098 47.3564 7.92495 44.9727 8.63496 44.8303C8.72563 44.8121 8.82428 44.7321 8.92798 44.6047M4.89736 51.1728C4.72509 51.3055 4.56099 51.4492 4.41071 51.61M8.92798 44.6047C7.27086 43.6099 5.93016 41.7889 4.31013 40.6333C3.95856 40.3825 3.6059 39.8603 3.27083 39.6648C2.9782 39.494 1.8944 39.034 1.68394 38.6963C1.39684 38.2355 2.49601 38.6963 2.90205 38.6963C3.43147 38.6963 3.92662 38.602 4.41071 38.9474C5.00626 39.3722 6.61337 38.999 7.02572 39.8262C7.37583 40.5286 9.71073 40.2061 10.2442 40.3284C10.3825 40.3601 10.522 40.3903 10.6624 40.419M10.6624 40.419C10.7188 40.2457 10.7663 40.0988 10.803 39.9876C11.2034 38.7736 11.7863 37.4768 12.3563 36.5619C12.7542 35.9234 14.0661 33.7758 14.0661 35.9521C14.0661 37.0584 14.857 38.6457 15.3178 39.4137C15.6207 39.9185 15.8723 40.4262 16.0989 40.9408M16.0989 40.9408C16.5238 41.9053 16.8611 42.894 17.2846 43.9335C17.4077 44.2356 17.5216 44.5463 17.6287 44.8633M16.0989 40.9408C16.6223 40.9522 17.1386 40.9562 17.6422 40.9562C18.6231 40.9562 19.5945 41.279 20.6037 41.279C21.1559 41.279 22.7811 41.5488 22.6264 41.6198L22.6112 41.6268C21.9319 41.9382 20.4752 42.6061 19.9443 43.2878C19.348 44.0535 18.4782 44.4633 17.6287 44.8633M17.6287 44.8633C18.1474 46.3974 18.5096 48.0809 19.0056 49.6729C19.1547 50.1514 20.1382 54.0256 19.4973 52.7399C19.0339 51.8102 18.5359 51.1789 18.0445 50.3904C16.9979 48.7106 15.2953 49.7861 14.0661 48.9555C13.2078 48.3754 12.4041 47.5813 11.607 46.8045M17.6287 44.8633C17.0761 45.1236 16.5322 45.3797 16.0777 45.7271C15.063 46.5026 14.0697 46.7673 12.9598 46.7673C12.6842 46.7673 12.1603 46.7674 11.607 46.8045M10.9356 43.7646H14.3459"
      stroke="#FF91B2"
      strokeWidth="2"
      strokeLinecap="round"
    />
    <path
      d="M63.0056 17.6729C62.5096 16.0809 62.1474 14.3974 61.6287 12.8633C61.0761 13.1236 60.5322 13.3797 60.0777 13.7271C59.063 14.5026 58.0697 14.7673 56.9598 14.7673C56.6842 14.7673 56.1603 14.7674 55.607 14.8045C56.4041 15.5813 57.2078 16.3754 58.0661 16.9555C59.2953 17.7861 60.9979 16.7106 62.0445 18.3904C62.5359 19.1789 63.0339 19.8102 63.4973 20.7399C64.1382 22.0256 63.1547 18.1514 63.0056 17.6729Z"
      fill="#FF91B2"
    />
    <path
      d="M55.3565 8.54766C54.7234 9.58629 54.0744 10.551 53.6072 11.4134C53.547 11.5245 53.4863 11.6354 53.4252 11.746C53.2709 12.0736 53.1178 12.3527 52.9735 12.5462L52.9367 12.61C52.9701 12.6299 53.0036 12.6496 53.0373 12.6689C53.9247 13.1775 54.7622 13.9813 55.607 14.8045C56.1603 14.7674 56.6842 14.7673 56.9598 14.7673C58.0697 14.7673 59.063 14.5026 60.0777 13.7271C60.5322 13.3797 61.0761 13.1236 61.6287 12.8633C61.5216 12.5463 61.4077 12.2356 61.2846 11.9335C60.8611 10.894 60.5238 9.90534 60.0989 8.94078C58.5298 8.90664 56.8978 8.80608 55.3565 8.54766Z"
      fill="#FF91B2"
    />
    <path
      d="M60.0989 8.94078C60.5238 9.90534 60.8611 10.894 61.2846 11.9335C61.4077 12.2356 61.5216 12.5463 61.6287 12.8633C62.4782 12.4633 63.348 12.0535 63.9443 11.2878C64.4752 10.6061 65.9319 9.93824 66.6112 9.62677L66.6264 9.61978C66.7811 9.54884 65.1559 9.279 64.6037 9.279C63.5945 9.279 62.6231 8.95616 61.6422 8.95616C61.1386 8.95616 60.6223 8.95216 60.0989 8.94078Z"
      fill="#FF91B2"
    />
    <path
      d="M54.803 7.98763C54.7663 8.09882 54.7188 8.24572 54.6624 8.41896C54.8913 8.4657 55.1229 8.50849 55.3565 8.54766C56.8978 8.80608 58.5298 8.90664 60.0989 8.94078C59.8723 8.42622 59.6207 7.91854 59.3178 7.41368C58.857 6.64566 58.0661 5.0584 58.0661 3.95209C58.0661 1.77579 56.7542 3.9234 56.3563 4.5619C55.7863 5.47678 55.2034 6.77364 54.803 7.98763Z"
      fill="#FF91B2"
    />
    <path
      d="M52.9735 12.5462C53.1263 12.2808 53.277 12.0142 53.4252 11.746C53.9008 10.7357 54.3874 9.26398 54.6624 8.41896C54.522 8.39028 54.3825 8.36013 54.2442 8.32841C53.7107 8.2061 51.3758 8.52859 51.0257 7.82621C50.6134 6.99896 49.0063 7.37217 48.4107 6.94736C47.9266 6.60205 47.4315 6.69625 46.902 6.69625C46.496 6.69625 45.3968 6.23546 45.6839 6.69625C45.8944 7.03402 46.9782 7.494 47.2708 7.66478C47.6059 7.86033 47.9586 8.38253 48.3101 8.63331C49.9302 9.7889 51.2709 11.6099 52.928 12.6047C52.943 12.5862 52.9582 12.5667 52.9735 12.5462Z"
      fill="#FF91B2"
    />
    <path
      d="M52.9367 12.61C51.9374 14.3405 50.8513 16.0158 49.8188 17.6729C49.6742 17.905 49.3784 18.5156 49.1362 18.9986C49.8893 18.4761 50.7422 18.1015 51.2716 17.4218C51.9392 16.5647 52.9586 15.9495 53.7413 15.2516C54.0536 14.9732 54.8572 14.8548 55.607 14.8045C54.7622 13.9813 53.9247 13.1775 53.0373 12.6689C53.0036 12.6496 52.9701 12.6299 52.9367 12.61Z"
      fill="#FF91B2"
    />
    <path
      d="M57.4627 3.14498C57.3303 5.05682 56.3634 6.89576 55.3565 8.54766M55.3565 8.54766C54.7234 9.58629 54.0744 10.551 53.6072 11.4134C53.547 11.5245 53.4863 11.6354 53.4252 11.746M55.3565 8.54766C55.1229 8.50849 54.8913 8.4657 54.6624 8.41896M55.3565 8.54766C56.8978 8.80608 58.5298 8.90664 60.0989 8.94078M53.4252 11.746C53.277 12.0142 53.1263 12.2808 52.9735 12.5462M53.4252 11.746C53.2709 12.0736 53.1178 12.3527 52.9735 12.5462M53.4252 11.746C53.9008 10.7357 54.3874 9.26398 54.6624 8.41896M52.9735 12.5462C52.9612 12.5675 52.949 12.5887 52.9367 12.61M52.9735 12.5462C52.9582 12.5667 52.943 12.5862 52.928 12.6047M52.9735 12.5462L52.9367 12.61M52.9367 12.61C51.9374 14.3405 50.8513 16.0158 49.8188 17.6729C49.6742 17.905 49.3784 18.5156 49.1362 18.9986M52.9367 12.61C52.9701 12.6299 53.0036 12.6496 53.0373 12.6689C53.9247 13.1775 54.7622 13.9813 55.607 14.8045M52.9367 12.61C52.9338 12.6082 52.9309 12.6065 52.928 12.6047M49.1362 18.9986C48.8272 19.6152 48.6055 20.0241 48.8974 19.1728M49.1362 18.9986C49.8893 18.4761 50.7422 18.1015 51.2716 17.4218C51.9392 16.5647 52.9586 15.9495 53.7413 15.2516C54.0536 14.9732 54.8572 14.8548 55.607 14.8045M49.1362 18.9986C49.0553 19.0548 48.9755 19.1127 48.8974 19.1728M48.8974 19.1728C48.9026 19.1575 48.908 19.1418 48.9136 19.1257C49.2608 18.1226 50.1618 16.7805 50.724 16.0587C51.271 15.3564 51.925 12.9727 52.635 12.8303C52.7256 12.8121 52.8243 12.7321 52.928 12.6047M48.8974 19.1728C48.7251 19.3055 48.561 19.4492 48.4107 19.61M52.928 12.6047C51.2709 11.6099 49.9302 9.7889 48.3101 8.63331C47.9586 8.38253 47.6059 7.86033 47.2708 7.66478C46.9782 7.494 45.8944 7.03402 45.6839 6.69626C45.3968 6.23546 46.496 6.69626 46.902 6.69626C47.4315 6.69626 47.9266 6.60205 48.4107 6.94736C49.0063 7.37217 50.6134 6.99896 51.0257 7.82621C51.3758 8.52859 53.7107 8.2061 54.2442 8.32841C54.3825 8.36013 54.522 8.39028 54.6624 8.41896M54.6624 8.41896C54.7188 8.24572 54.7663 8.09882 54.803 7.98763C55.2034 6.77364 55.7863 5.47678 56.3563 4.5619C56.7542 3.9234 58.0661 1.77579 58.0661 3.95209C58.0661 5.0584 58.857 6.64566 59.3178 7.41368C59.6207 7.91854 59.8723 8.42622 60.0989 8.94078M60.0989 8.94078C60.5238 9.90534 60.8611 10.894 61.2846 11.9335C61.4077 12.2356 61.5216 12.5463 61.6287 12.8633M60.0989 8.94078C60.6223 8.95216 61.1386 8.95616 61.6422 8.95616C62.6231 8.95616 63.5945 9.279 64.6037 9.279C65.1559 9.279 66.7811 9.54884 66.6264 9.61978L66.6112 9.62677C65.9319 9.93824 64.4752 10.6061 63.9443 11.2878C63.348 12.0535 62.4782 12.4633 61.6287 12.8633M61.6287 12.8633C62.1474 14.3974 62.5096 16.0809 63.0056 17.6729C63.1547 18.1514 64.1382 22.0256 63.4973 20.7399C63.0339 19.8102 62.5359 19.1789 62.0445 18.3904C60.9979 16.7106 59.2953 17.7861 58.0661 16.9555C57.2078 16.3754 56.4041 15.5813 55.607 14.8045M61.6287 12.8633C61.0761 13.1236 60.5322 13.3797 60.0777 13.7271C59.063 14.5026 58.0697 14.7673 56.9598 14.7673C56.6842 14.7673 56.1603 14.7674 55.607 14.8045M54.9356 11.7646H58.3459"
      stroke="#FF91B2"
      strokeWidth="2"
      strokeLinecap="round"
    />
  </svg>
);

const line = (
  <svg viewBox="0 0 65 42" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path
      d="M62.3411 32.8533C53.2897 29.1446 23.6815 12.8072 15.9944 8.959C12.5817 7.2506 9.09482 5.79142 5.76821 3.91059C4.5954 3.24749 2.6288 1.71973 1.16111 1.94393C0.846342 1.99201 6.98237 4.43397 7.44127 4.81754C15.0698 11.194 23.1702 16.8882 31.4319 22.4179C39.337 27.709 47.5596 32.4574 56.0149 36.8048C58.2607 37.9595 60.5855 39.9335 63.0258 40.5115"
      stroke="#FF91B2"
      strokeWidth="2"
      strokeLinecap="round"
    />
  </svg>
);
